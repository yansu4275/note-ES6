<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    // async function aaa() {
    //     return 'aaaaaaaa'
    //     throw new Error('aaa出错')
    // }

    // // async 返回的是一个promise
    // aaa().then(res=>{
    //     console.log(res)
    // }).catch(err=>{
    //     console.log(err)
    // })

    // 只要 await 语句后面的promise状态变成reject，那么async函数会中断执行
        // 使用try catch 解决async中抛出错误，影响后续代码
        // 解决方法：
            // 1：使用try catch
                // try{
                //     await Promise.reject('bbb出错')
                // }catch(e){
                //     console.log(e)
                // }
                // let b1 = await Promise.resolve('bbb')
                // console.log(b1)
            // 2：使用 promise 自身的 catch
                // await Promise.reject('bbb出错').catch(err=>{
                //     console.log(err)
                // })



    async function bbb() {
        await Promise.resolve('bbb')
        // await Promise.reject('bbb出错')
        let b1 = await Promise.resolve('bbb')
        console.log(b1)
    }
    bbb().then(res=>{
        // res 指的是函数里的return值，而不是 resolve
        // console.log(res)
    }).catch(err=>{
        console.log(err)
    })
</script>